<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width = device-width ,height = device-height ,initial-scale = 1,minimum-scale = 1, maximum-scale = 1, user-scalable =no,">
    <title></title>

    <link rel="stylesheet" href="http://apps.bdimg.com/libs/jquerymobile/1.4.5/jquery.mobile-1.4.5.css"/>
    <link rel="stylesheet" href="../style/download/jquery.mobile-1.4.5.css">
    <!--<link rel="stylesheet" href="../../style/main.css"/>-->

    <link rel="stylesheet" href="">

    <script src="http://apps.bdimg.com/libs/angular.js/1.5.0-beta.0/angular.min.js"></script>
    <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.js"></script>
    <script src="http://apps.bdimg.com/libs/jquerymobile/1.4.5/jquery.mobile-1.4.5.js"></script>
    <script src="../script/download/iscroll.js"></script>
    <script src="../script/download/iscroll-probe.js"></script>
    <script src=""></script>

    <style type="text/css">
        #wrapper{
            /*position:relative;*/
            z-index:1;
            width:100%;
            height:100px;
            overflow:hidden;
            background-color: yellow;
        }

    </style>
    <script>
        var myScroll,
                upIcon = $("#up-icon"),
                downIcon = $("#down-icon");
//        var myscroll
        function loaded () {
//             myscroll= new IScroll('#wrap', {
//                hScroll: false, //是否水平滚动
//                vScroll: true, //是否垂直滚动
//                y: 10, //滚动垂直初始位置
//                bounce : true,
//            },true);

            myScroll = new IScroll('#wrapper', { probeType: 3, mouseWheel: true });
            //probeType属性，表明此插件，可以监听scroll事件

            myScroll.on("scroll",function(){
                //scroll事件，可以用来控制上拉和下拉之后显示的模块中，
                //样式和内容展示的部分的改变。
                var y = this.y,
                        maxY = this.maxScrollY - y;
//                        downHasClass = downIcon.hasClass("reverse_icon"),
//                        upHasClass = upIcon.hasClass("reverse_icon");
                if(y >= 40){
//                    !downHasClass && downIcon.addClass("reverse_icon");

                    return "";
                }else if(y < 40 && y > 0){
//                    downHasClass && downIcon.removeClass("reverse_icon");
                    return "";
                }

                if(maxY >= 40){
//                    !upHasClass && upIcon.addClass("reverse_icon");
                    return "";
                }else if(maxY < 40 && maxY >=0){
//                    upHasClass && upIcon.removeClass("reverse_icon");
                    return "";
                }
            });

            myScroll.on("slideDown",function(){
                //当下拉，使得边界超出时，如果手指从屏幕移开，则会触发该事件
                if(this.y > 40){
                    //获取内容于屏幕拉开的距离
                    //可以在该部分中，修改样式，并且仅限ajax或者其他的一些操作
                    //此时只是为了能演示该功能，只添加了一个alert功能。
                    //并且，由于alert会阻塞后续的动画效果，所以，
                    //添加了后面的一行代码，移除之前添加上的一个样式

                    alert("slideDown");
                    upIcon.removeClass("reverse_icon");
                }
            });

            myScroll.on("slideUp",function(){
                if(this.maxScrollY - this.y > 40){
                    //与slideDown相同的，maxScrollY表示文档区域的最大高度
                    alert("slideUp");
                    upIcon.removeClass("reverse_icon")
                }
            });
        }





    </script>

</head>
<body onload="loaded()">
<div data-role="page" >
    <div data-role="header" data-theme="b"></div>
    <!--<div id="wrap">-->
        <!--<div id="scroll">-->
            <!--<div>-->
                <!--<div>...</div>-->
            <!--</div>-->
        <!--</div>-->
    <!--</div>-->

    <div id="wrapper">
        <div id="scroller">
            <div id = "scroller-pullDown">
                <span id = "down-icon" class = "icon-double-angle-down pull-down-icon"></span>
                <span id = "pullDown-msg" class = "pull-down-msg">下拉刷新</span>
            </div>
            <div id = "scroller-content">
                <ul>
                    <li>Pretty row 1</li>
                    <li>Pretty row 2</li>
                    <li>Pretty row 3</li>
                    <li>Pretty row 4</li>
                    <li>Pretty row 5</li>
                    ...
                    <li>Pretty row 46</li>
                    <li>Pretty row 47</li>
                    <li>Pretty row 48</li>
                    <li>Pretty row 49</li>
                    <li>Pretty row 50</li>
                </ul>
            </div>
            <div id = "scroller-pullUp">
                <span id = "up-icon" class = "icon-double-angle-up pull-up-icon"></span>
                <span id = "pullUp-msg" class = "pull-up-msg">上拉刷新</span>
            </div>
        </div>
    </div>


    <div data-role="footer" data-position="fixed" data-theme="b"></div>
</div>

</body>
</html>